{"version":3,"file":"bootstrap-tag-input.js","sources":["../../src/js/util.js","../../src/js/tag-input.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.3.1): util.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery'\n\n/**\n * ------------------------------------------------------------------------\n * Private TransitionEnd Helpers\n * ------------------------------------------------------------------------\n */\n\nconst TRANSITION_END = 'transitionend'\nconst MAX_UID = 1000000\nconst MILLISECONDS_MULTIPLIER = 1000\n\n// Shoutout AngusCroll (https://goo.gl/pxwQGp)\nfunction toType(obj) {\n  return {}.toString.call(obj).match(/\\s([a-z]+)/i)[1].toLowerCase()\n}\n\nfunction getSpecialTransitionEndEvent() {\n  return {\n    bindType: TRANSITION_END,\n    delegateType: TRANSITION_END,\n    handle(event) {\n      if ($(event.target).is(this)) {\n        return event.handleObj.handler.apply(this, arguments) // eslint-disable-line prefer-rest-params\n      }\n      return undefined // eslint-disable-line no-undefined\n    }\n  }\n}\n\nfunction transitionEndEmulator(duration) {\n  let called = false\n\n  $(this).one(Util.TRANSITION_END, () => {\n    called = true\n  })\n\n  setTimeout(() => {\n    if (!called) {\n      Util.triggerTransitionEnd(this)\n    }\n  }, duration)\n\n  return this\n}\n\nfunction setTransitionEndSupport() {\n  $.fn.emulateTransitionEnd = transitionEndEmulator\n  $.event.special[Util.TRANSITION_END] = getSpecialTransitionEndEvent()\n}\n\n/**\n * --------------------------------------------------------------------------\n * Public Util Api\n * --------------------------------------------------------------------------\n */\n\nconst Util = {\n\n  TRANSITION_END: 'bsTransitionEnd',\n\n  getUID(prefix) {\n    do {\n      // eslint-disable-next-line no-bitwise\n      prefix += ~~(Math.random() * MAX_UID) // \"~~\" acts like a faster Math.floor() here\n    } while (document.getElementById(prefix))\n    return prefix\n  },\n\n  getSelectorFromElement(element) {\n    let selector = element.getAttribute('data-target')\n\n    if (!selector || selector === '#') {\n      const hrefAttr = element.getAttribute('href')\n      selector = hrefAttr && hrefAttr !== '#' ? hrefAttr.trim() : ''\n    }\n\n    try {\n      return document.querySelector(selector) ? selector : null\n    } catch (err) {\n      return null\n    }\n  },\n\n  getTransitionDurationFromElement(element) {\n    if (!element) {\n      return 0\n    }\n\n    // Get transition-duration of the element\n    let transitionDuration = $(element).css('transition-duration')\n    let transitionDelay = $(element).css('transition-delay')\n\n    const floatTransitionDuration = parseFloat(transitionDuration)\n    const floatTransitionDelay = parseFloat(transitionDelay)\n\n    // Return 0 if element or transition duration is not found\n    if (!floatTransitionDuration && !floatTransitionDelay) {\n      return 0\n    }\n\n    // If multiple durations are defined, take the first\n    transitionDuration = transitionDuration.split(',')[0]\n    transitionDelay = transitionDelay.split(',')[0]\n\n    return (parseFloat(transitionDuration) + parseFloat(transitionDelay)) * MILLISECONDS_MULTIPLIER\n  },\n\n  reflow(element) {\n    return element.offsetHeight\n  },\n\n  triggerTransitionEnd(element) {\n    $(element).trigger(TRANSITION_END)\n  },\n\n  // TODO: Remove in v5\n  supportsTransitionEnd() {\n    return Boolean(TRANSITION_END)\n  },\n\n  isElement(obj) {\n    return (obj[0] || obj).nodeType\n  },\n\n  typeCheckConfig(componentName, config, configTypes) {\n    for (const property in configTypes) {\n      if (Object.prototype.hasOwnProperty.call(configTypes, property)) {\n        const expectedTypes = configTypes[property]\n        const value         = config[property]\n        const valueType     = value && Util.isElement(value)\n          ? 'element' : toType(value)\n\n        if (!new RegExp(expectedTypes).test(valueType)) {\n          throw new Error(\n            `${componentName.toUpperCase()}: ` +\n            `Option \"${property}\" provided type \"${valueType}\" ` +\n            `but expected type \"${expectedTypes}\".`)\n        }\n      }\n    }\n  },\n\n  findShadowRoot(element) {\n    if (!document.documentElement.attachShadow) {\n      return null\n    }\n\n    // Can find the shadow root otherwise it'll return the document\n    if (typeof element.getRootNode === 'function') {\n      const root = element.getRootNode()\n      return root instanceof ShadowRoot ? root : null\n    }\n\n    if (element instanceof ShadowRoot) {\n      return element\n    }\n\n    // when we don't find a shadow root\n    if (!element.parentNode) {\n      return null\n    }\n\n    return Util.findShadowRoot(element.parentNode)\n  }\n}\n\nsetTransitionEndSupport()\n\nexport default Util\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap Tag Input (v0.0.1): tag-input.js\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery'\nimport Util from './util'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\n const NAME               = 'taginput'\n const VERSION            = '0.0.1'\n const DATA_KEY           = 'bs.taginput'\n const EVENT_KEY          = `.${DATA_KEY}`\n const DATA_API_KEY       = '.data-api'\n const JQUERY_NO_CONFLICT = $.fn[NAME]\n const ENTER_KEYCODE      = 13 // KeyboardEvent.which value for Enter key\n // const COMMA_KEYCODE      = 188 // KeyboardEvent.which value for Comma (,) key\n const COMMA_KEY          = ','\n\n const Default = {}\n\nconst DefaultType = {}\n\nconst Event = {\n    CLICK_ITEM_DISMISS  : `click.dismiss${EVENT_KEY}`,\n    FILTER_KEYDOWN      : `keydown.filter${EVENT_KEY}`\n}\n\nconst ClassName = {\n  CONTAINER         : 'tag-input-container',\n  FILTER            : 'tag-input-filter',\n  ITEMS             : 'tag-input-items',\n  VALUE             : 'tag-input-value'\n}\n\nconst Selector = {\n  FILTER        : `.${ClassName.FILTER}`,\n  ITEMS         : `.${ClassName.ITEMS}`,\n  VALUE         : `.${ClassName.VALUE}`,\n  DISMISS_ITEM  : `.close`\n}\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nclass TagInput {\n    constructor(element, config) {\n        this._config    = this._getConfig(config)\n        this._element   = element\n        this._parent    = element.parentNode\n        this._items     = this._parent.querySelector(Selector.ITEMS)\n        this._input     = this._parent.querySelector(Selector.VALUE)\n\n        this._setInputListener()\n        this._setFilterListener()\n        this._setItemsListener()\n        this._renderValue()\n    }\n\n\n    // Getters\n\n    static get VERSION() {\n        return VERSION\n    }\n\n    static get Default() {\n        return Default\n    }\n\n    // Private\n\n    _getConfig(config) {\n        config = {\n          ...Default,\n          ...config\n        }\n        Util.typeCheckConfig(NAME, config, DefaultType)\n        return config\n    }\n\n    _addItem(text){\n        if(this._values.includes(text))\n            return;\n\n        let index = this._values.length\n        this._values.push( text )\n        this._input.value = JSON.stringify(this._values)\n\n        this._addListItem(text)\n    }\n\n    _addListItem(text){\n        let li = document.createElement('li')\n        li.innerText = text\n\n        let btn = document.createElement('button')\n        btn.setAttribute('type', 'button')\n        btn.setAttribute('aria-label', 'Delete')\n        btn.setAttribute('data-dismiss', 'tag-item')\n\n        btn.classList.add('close')\n\n        let span = document.createElement('span')\n        span.setAttribute('aria-hidden', 'true')\n        span.innerHTML = '&times;'\n        btn.appendChild(span)\n\n        li.appendChild(btn)\n\n        this._items.appendChild(li)\n    }\n\n    _removeItem(index){\n        this._values.splice(index,1)\n        this._input.value = JSON.stringify(this._values)\n        this._removeListItem(index)\n    }\n\n    _removeListItem(index){\n        let el = this._items.querySelector('li:nth-child('+(index+1)+')')\n        this._items.removeChild(el)\n    }\n\n    _setFilterListener(){\n        $(this._element).on(Event.FILTER_KEYDOWN, e => {\n            if(e.keyCode !== ENTER_KEYCODE && e.key !== COMMA_KEY)\n                return;\n            e.preventDefault()\n\n            let text = this._element.value.trim()\n            if(text){\n                this._addItem(text)\n                this._element.value = ''\n            }\n            return false;\n        })\n    }\n\n    _setInputListener(){\n        $(this._value).on('change', () => {\n            this._renderValue()\n        })\n    }\n\n    _setItemsListener(){\n        $(this._items).on(Event.CLICK_ITEM_DISMISS, Selector.DISMISS_ITEM, e => {\n            let index = $(this._items).children('li').index(e.currentTarget.parentNode)\n            this._removeItem(index)\n        })\n    }\n\n    _renderValue(){\n        $(this._items).html('')\n        try{\n            this._values = JSON.parse( this._input.value )\n        }catch(e){\n            this._values = []\n        }\n        if(!Array.isArray(this._values))\n            this._values = [];\n\n        for(let i=0; i<this._values.length; i++)\n            this._addListItem(this._values[i])\n    }\n\n    // Static\n\n    static _jQueryInterface(config, relatedTarget) {\n        return this.each(function () {\n            let data = $(this).data(DATA_KEY)\n            const _config = {\n                ...Default,\n                ...$(this).data(),\n                ...typeof config === 'object' && config ? config : {}\n            }\n\n            if (!data) {\n                data = new TagInput(this, _config)\n                $(this).data(DATA_KEY, data)\n            }\n        })\n    }\n}\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n\n$.fn[NAME] = TagInput._jQueryInterface\n$.fn[NAME].Constructor = TagInput\n$.fn[NAME].noConflict = () => {\n    $.fn[NAME] = JQUERY_NO_CONFLICT\n    return TagInput._jQueryInterface\n}\n\nexport default TagInput"],"names":["TRANSITION_END","MAX_UID","MILLISECONDS_MULTIPLIER","toType","obj","toString","call","match","toLowerCase","getSpecialTransitionEndEvent","bindType","delegateType","handle","event","$","target","is","handleObj","handler","apply","arguments","undefined","transitionEndEmulator","duration","called","one","Util","setTimeout","triggerTransitionEnd","setTransitionEndSupport","fn","emulateTransitionEnd","special","getUID","prefix","Math","random","document","getElementById","getSelectorFromElement","element","selector","getAttribute","hrefAttr","trim","querySelector","err","getTransitionDurationFromElement","transitionDuration","css","transitionDelay","floatTransitionDuration","parseFloat","floatTransitionDelay","split","reflow","offsetHeight","trigger","supportsTransitionEnd","Boolean","isElement","nodeType","typeCheckConfig","componentName","config","configTypes","property","Object","prototype","hasOwnProperty","expectedTypes","value","valueType","RegExp","test","Error","toUpperCase","findShadowRoot","documentElement","attachShadow","getRootNode","root","ShadowRoot","parentNode","NAME","VERSION","DATA_KEY","EVENT_KEY","JQUERY_NO_CONFLICT","ENTER_KEYCODE","COMMA_KEY","Default","DefaultType","Event","CLICK_ITEM_DISMISS","FILTER_KEYDOWN","ClassName","CONTAINER","FILTER","ITEMS","VALUE","Selector","DISMISS_ITEM","TagInput","_config","_getConfig","_element","_parent","_items","_input","_setInputListener","_setFilterListener","_setItemsListener","_renderValue","_addItem","text","_values","includes","index","length","push","JSON","stringify","_addListItem","li","createElement","innerText","btn","setAttribute","classList","add","span","innerHTML","appendChild","_removeItem","splice","_removeListItem","el","removeChild","on","e","keyCode","key","preventDefault","_value","children","currentTarget","html","parse","Array","isArray","i","_jQueryInterface","relatedTarget","each","data","Constructor","noConflict"],"mappings":"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"}